{% extends "usuarios/base_form.html" %}

{% block title %}Minha Conta{% endblock %}

{% block content %}
    <div class="text-center">
        <h2 class="card-title mb-2">Minha Conta</h2>
        <p class="lead">Olá, <strong>{{ user.nome }}</strong>!</p>
    </div>
    
    <hr>

    <div>
        <h5 class="mb-3">Histórico de Reservas</h5>
        
        {% if reservas %}
            <ul class="list-group">
                {% for reserva in reservas %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                            <strong>{{ reserva.pacote.nome }}</strong><br>
                            <small class="text-muted">Solicitada em: {{ reserva.data_solicitacao|date:"d/m/Y \às H:i" }}</small>
                        </div>
                        
                        {% if reserva.status == 'CONFIRMADA' %}
                            <span class="badge bg-success rounded-pill">{{ reserva.get_status_display }}</span>
                        {% elif reserva.status == 'CANCELADA' %}
                            <span class="badge bg-danger rounded-pill">{{ reserva.get_status_display }}</span>
                        {% else %}
                            <span class="badge bg-warning text-dark rounded-pill">{{ reserva.get_status_display }}</span>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-center text-muted">Você ainda não fez nenhuma solicitação de reserva.</p>
        {% endif %}
    </div>

    <div class="text-center mt-4">
        <a href="{% url 'pacotes:home' %}" class="btn btn-primary btn-lg">Ver Novos Destinos</a>
    </div>
{% endblock %}